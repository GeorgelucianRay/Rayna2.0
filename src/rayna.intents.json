[
  {
    "id": "saludo_dias",
    "priority": 103,
    "type": "static",
    "patterns_any": ["buenos dias", "buenos dÃ­as", "buen dia", "buen dÃ­a"],
    "response": { "text": "Â¡Buenos dÃ­as! Soy **Rayna**. Â¿QuÃ© necesitas hoy?" }
  },
  {
    "id": "saludo_tardes",
    "priority": 102,
    "type": "static",
    "patterns_any": ["buenas tardes"],
    "response": { "text": "Â¡Buenas tardes! AquÃ­ **Rayna**. Â¿En quÃ© te ayudo?" }
  },
  {
    "id": "saludo_noches",
    "priority": 101,
    "type": "static",
    "patterns_any": ["buenas noches"],
    "response": { "text": "Â¡Buenas noches! Soy **Rayna**. Â¿Te echo una mano con algo?" }
  },
  {
    "id": "saludo",
    "priority": 100,
    "type": "static",
    "patterns_any": ["hola", "buenas", "buenos dias", "buenas tardes", "buenas noches", "hola rayna", "que tal"],
    "response": { "text": "Â¡Hola! Soy **Rayna**, tu transportista virtual. Â¿En quÃ© te ayudo?" }
  },
  {
    "id": "quien_eres",
    "priority": 95,
    "type": "static",
    "patterns_any": ["quien eres", "quiÃ©n eres", "quien es rayna", "quiÃ©n es rayna", "que eres"],
    "response": { "text": "Soy Rayna: **R**utas â€¢ **A.Y.** Inteligencia Artificial â€¢ **N**avegar â€¢ **A**sistente. Formal, cercana y rÃ¡pida ğŸ˜‰." }
  },
  {
    "id": "help",
    "priority": 90,
    "type": "static",
    "patterns_any": ["que puedes hacer", "quÃ© puedes hacer", "ayuda", "help", "que piedes hacer", "que puedes acer"],
    "response": { "text": "Puedo abrir **cÃ¡maras** por nombre (ej.: Â«Abre TCBÂ»), mostrar el **anuncio** vigente o ayudarte con **depÃ³sito/GPS**. Admin: aÃ±adir cÃ¡mara. Dispecer/Admin: publicar anuncio." }
  },
  {
    "id": "set_anuncio",
    "priority": 85,
    "type": "dialog",
    "patterns_any": ["quiero poner un anuncio", "poner anuncio", "publicar anuncio"],
    "roles_allowed": ["admin", "dispecer"],
    "dialog": {
      "await_key": "anuncio_text",
      "ask_text": "Claro, Â¿quÃ© anuncio quieres?",
      "save_action": "save_announcement",
      "save_ok": "Â¡Anuncio actualizado con Ã©xito!",
      "save_err": "Ha ocurrido un error al guardar el anuncio."
    }
  },
  {
    "id": "admin_add_camara",
    "priority": 86,
    "type": "dialog",
    "patterns_any": [
      "quiero aÃ±adir una camara","quiero anadir una camara","aÃ±adir camara","agregar camara","crear camara","nueva camara",
      "adaugÄƒ camerÄƒ","adaugÄƒ camera","adauga camera","adaug camera","adÄƒuga camerÄƒ","adÄƒuga camera","adauga camerÄƒ",
      "adaugare camerÄƒ","adaugare camera","vreau sÄƒ adaug o camerÄƒ","vreau sa adaug o camera","vreau sÄƒ adÄƒuga o camerÄƒ",
      "vreau sa adauga o camera","add camera"
    ],
    "roles_allowed": ["admin"],
    "dialog": {
      "form": "add_camera_inline",
      "save_action": "insert_camera",
      "save_ok": "Â¡Listo! CÃ¡mara **{{camera.name}}** aÃ±adida.",
      "save_err": "No pude aÃ±adir la cÃ¡mara. Revisa el URL."
    }
  },
  {
    "id": "ver_anuncio",
    "priority": 70,
    "type": "action",
    "patterns_any": ["que anuncio hay", "quÃ© anuncio hay", "ver anuncio", "anuncios", "ce anunÈ› avem", "ce anunt avem"],
    "action": "show_announcement",
    "response": {
      "text": "Este es el anuncio vigente:",
      "objects": [{ "type": "announcement_box", "content": "{{announcement.content}}" }]
    }
  },
  {
    "id": "ver_camara",
  "priority": 80,
  "type": "action",
  "patterns_any": ["camara", "cÃ¡mara", "camera", "camere"],
  "negative_any": ["lista", "listado", "todas", "todes", "tutti"],
  "stopwords": [
    "abre","abrir","ver","muestra","mostrar","desplegar","deschide",
    "quiero","pf","pls","por","favor","la","el","una","un","ok","vale",
    "de","del","al","en"
  ],
  "slots": { "cameraName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 } },
  "action": "open_camera",
  "response": {
    "text": "AquÃ­ tienes **{{camera.name}}**. Pulsa el botÃ³n para abrirla.",
    "objects": [{
      "type": "card",
      "title": "{{camera.name}}",
      "actions": [{ "type": "open", "label": "Abrir cÃ¡mara", "route": "{{camera.url}}", "newTab": true }]
    }]
  },
  "not_found": { "text": "No he encontrado la cÃ¡mara \"{{query}}\"." }
  },
  {
  "id": "gps_list_camaras",
  "priority": 81,
  "type": "action",
  "patterns_any": [
    "que camaras hay","quÃ© camaras hay","quÃ© cÃ¡maras hay",
    "lista de camaras","listado camaras","ver todas las camaras",
    "lista camaras","que cÃ¡maras hay","que camara hay"
  ],
  "action": "list_all_cameras",
  "response": { "text": "AquÃ­ tienes todas las cÃ¡maras disponibles:" }
},
  {
    "id": "gps_navegar_a",
    "priority": 88,
    "type": "action",
    "patterns_any": ["quiero llegar a","llevar a","ir a","navegar a","como llego a","cÃ³mo llego a","vreau sa ajung la","vreau sÄƒ ajung la","vreau sa merg la","vreau sÄƒ merg la"],
    "stopwords": ["a","la","al","el","cÄƒtre","pe"],
    "slots": { "placeName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 } },
    "action": "gps_route_preview",
    "response": {
      "text": "Claro, aquÃ­ tienes la ruta a **{{place.name}}**. Pulsa el mapa o el botÃ³n para abrirla en Google Maps.",
      "objects": [
        { "type": "mini_map", "title": "{{place.name}}", "geojson": "{{route.geojson}}", "maps_link": "{{maps_link}}" },
        { "type": "card", "title": "{{place.name}}",
          "actions": [{ "type": "open", "label": "Abrir en Google Maps", "route": "{{maps_link}}", "newTab": true }]
        }
      ]
    },
    "not_found": { "text": "No he encontrado la ubicaciÃ³n \"{{query}}\"." }
  },
  {
    "id": "gps_info_de",
  "priority": 87,
  "type": "action",
  "patterns_any": [
    "que hay en","quÃ© hay en","que hay de","quÃ© hay de","que pasa en","quÃ© pasa en",
    "que me puedes decir de","quÃ© me puedes decir de",
    "que sabes de","quÃ© sabes de","que tienes de","quÃ© tienes de",
    "info","informacion","informaciÃ³n","detalii",
    "donde esta","dÃ³nde estÃ¡"
  ],
  "stopwords": ["de","la","el","en","del","al","despre","pe"],
  "slots": { "placeName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 } },
  "action": "gps_place_info",
  "response": { "text": "Esto es lo que tengo de **{{place.name}}**:" },
  "not_found": { "text": "No he encontrado informaciÃ³n de \"{{query}}\"." }
      
  },
  {
    "id": "gps_list_terminale",
    "priority": 62,
    "type": "action",
    "patterns_any": ["que terminales hay","quÃ© terminales hay","lista terminales","ver terminales"],
    "action": "gps_list",
    "meta": { "table": "gps_terminale", "label": "Terminales" },
    "response": { "text": "Estas son las terminales disponibles:", "objects": [{ "type": "list", "items": "{{items}}" }] }
  },
  {
    "id": "gps_list_parkings",
  "priority": 61,
  "type": "action",
  "patterns_any": [
    "que parkings hay","quÃ© parkings hay","lista parkings","ver parkings",
    "que parking hay","quÃ© parking hay","lista parking","ver parking"
  ],
  "action": "gps_list",
  "meta": { "table": "gps_parkings", "label": "Parkings" },
  "response": { "text": "Estos son los parkings disponibles:" }
  },
  {
    "id": "gps_list_servicios",
    "priority": 60,
    "type": "action",
    "patterns_any": ["que servicios hay","quÃ© servicios hay","lista servicios","ver servicios"],
    "action": "gps_list",
    "meta": { "table": "gps_servicios", "label": "Servicios" },
    "response": { "text": "Estos son los servicios disponibles:", "objects": [{ "type": "list", "items": "{{items}}" }] }
  },
  {
    "id": "gps_atajos_clientes",
    "priority": 59,
    "type": "static",
    "patterns_any": ["que clientes hay","lista clientes","ver clientes"],
    "response": {
      "text": "Hay muchos clientes. Abre la secciÃ³n para verlos.",
      "objects": [
        { "type": "card", "title": "Clientes",
          "actions": [{ "type": "open", "label": "Ver clientes en GPS", "route": "/gps", "newTab": false }]
        }
      ]
    }
  },
  {
    "id": "fallback",
    "priority": 0,
    "type": "static",
    "response": { "text": "Te escucho. Puedo abrir cÃ¡maras por nombre, mostrar el anuncio o ayudarte con el depÃ³sito y el GPS." }
  }, 
  {
  "id": "gps_add_location",
  "priority": 82,
  "type": "dialog",
  "patterns_any": [
    "quiero aÃ±adir nueva ubicacion",
    "quiero aÃ±adir ubicacion",
    "aÃ±adir ubicacion",
    "agregar ubicacion",
    "crear ubicacion",
    "nueva ubicacion",
    "adauga locatie",
    "adauga locaÈ›ie",
    "adaugÄƒ locaÈ›ie"
  ],
  "roles_allowed": ["admin", "dispecer", "sofer"],
  "dialog": {
    "steps": [
      "gps_add.type",
      "gps_add.name",
      "gps_add.coords_or_link",
      "gps_add.photo",
      "gps_add.details",
      "gps_add.confirm"
    ],
    "ask_type": "Claro. Â¿QuÃ© tipo de ubicaciÃ³n es?",
    "ask_name": "Perfecto, Â¿cÃ³mo se llama?",
    "ask_coords": "Ok. Pulsa el botÃ³n para usar tu ubicaciÃ³n actual, o envÃ­ame el enlace de Google Maps, o escrÃ­beme las coordenadas (lat,lon).",
    "ask_photo": "Â¿Tienes alguna foto del lugar? Sube una o haz una ahora.",
    "ask_details": "AÃ±ade detalles (direcciÃ³n, notas Ãºtiles, tiempo de espera si aplica).",
    "ask_confirm": "Â¿Guardamos la ubicaciÃ³n?",
    "save_ok": "Â¡Perfecto! La ubicaciÃ³n ha sido guardada. Â¿Quieres verla ahora?",
    "save_err": "No pude guardar la ubicaciÃ³n, revisa los datos."
  }
}
]