[
  {
    "id": "saludo",
    "priority": 100,
    "type": "static",
    "patterns_any": ["hola", "buenas", "buenos dias", "buenas tardes", "buenas noches", "hola rayna", "que tal"],
    "response": {
      "text": "¬°Hola! Soy **Rayna**, tu transportista virtual. ¬øEn qu√© te ayudo?"
    }
  },
  {
    "id": "quien_eres",
    "priority": 95,
    "type": "static",
    "patterns_any": ["quien eres", "qui√©n eres", "quien es rayna", "qui√©n es rayna", "que eres"],
    "response": {
      "text": "Soy Rayna: **R**utas ‚Ä¢ **A.Y.** Inteligencia Artificial ‚Ä¢ **N**avegar ‚Ä¢ **A**sistente. Formal, cercana y r√°pida üòâ."
    }
  },
  {
    "id": "help",
    "priority": 90,
    "type": "static",
    "patterns_any": ["que puedes hacer", "qu√© puedes hacer", "ayuda", "help"],
    "response": {
      "text": "Puedo abrir **c√°maras** por nombre (ej.: ¬´Abre TCB¬ª), mostrar el **anuncio** vigente o ayudarte con **dep√≥sito/GPS**. Admin: a√±adir c√°mara. Dispecer/Admin: publicar anuncio."
    }
  },
  {
    "id": "ver_camara",
    "priority": 80,
    "type": "action",
    "patterns_any": ["abre", "abrir", "ver", "muestra", "desplegar", "deschide", "vreau sa vad", "vreau sƒÉ vƒÉd", "c√°mara", "camara", "camera"],
    "stopwords": ["entonces","por","favor","la","el","una","un","pf","pls","ok","vale"],
    "slots": {
      "cameraName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 }
    },
    "action": "open_camera",
    "response": {
      "text": "Aqu√≠ tienes **{{camera.name}}**. Pulsa el bot√≥n para abrirla.",
      "objects": [
        {
          "type": "card",
          "title": "{{camera.name}}",
          "actions": [
            { "type": "open", "label": "Abrir c√°mara", "route": "{{camera.url}}", "newTab": true }
          ]
        }
      ]
    },
    "not_found": {
      "text": "No he encontrado la c√°mara \"{{query}}\"."
    }
  },
  {
    "id": "ver_anuncio",
    "priority": 70,
    "type": "action",
    "patterns_any": ["que anuncio hay", "qu√© anuncio hay", "ver anuncio", "anuncios", "ce anun»õ avem", "ce anunt avem"],
    "action": "show_announcement",
    "response": {
      "text": "Este es el anuncio vigente:",
      "objects": [
        { "type": "announcement_box", "content": "{{announcement.content}}" }
      ]
    }
  },
  {
    "id": "set_anuncio",
    "priority": 65,
    "type": "dialog",
    "patterns_any": ["quiero poner un anuncio", "poner anuncio", "publicar anuncio"],
    "roles_allowed": ["admin","dispecer"],
    "dialog": {
      "await_key": "anuncio_text",
      "ask_text": "Claro, ¬øqu√© anuncio quieres?",
      "save_action": "save_announcement",
      "save_ok": "¬°Anuncio actualizado con √©xito!",
      "save_err": "Ha ocurrido un error al guardar el anuncio."
    }
  },
  {
    "id": "admin_add_camara",
    "priority": 60,
    "type": "dialog",
    "patterns_any": ["quiero anadir una camara", "quiero a√±adir una camara", "quiero a√±adir una c√°mara", "agregar camara", "agregar c√°mara"],
    "roles_allowed": ["admin"],
    "dialog": {
      "form": "add_camera_inline",
      "save_action": "insert_camera",
      "save_ok": "¬°Listo! C√°mara **{{camera.name}}** a√±adida.",
      "save_err": "No pude a√±adir la c√°mara. Revisa el URL."
    }
  },
  {
    "id": "fallback",
    "priority": 0,
    "type": "static",
    "response": {
      "text": "Te escucho. Puedo abrir c√°maras por nombre, mostrar el anuncio o ayudarte con el dep√≥sito y el GPS."
    }
  }
]