[
  {
    "id": "saludo_dias",
    "priority": 103,
    "type": "static",
    "patterns_any": ["buenos dias", "buenos d√≠as", "buen dia", "buen d√≠a"],
    "response": { "text": "¬°Buenos d√≠as! Soy **Rayna**. ¬øQu√© necesitas hoy?" }
  },
  {
    "id": "saludo_tardes",
    "priority": 102,
    "type": "static",
    "patterns_any": ["buenas tardes"],
    "response": { "text": "¬°Buenas tardes! Aqu√≠ **Rayna**. ¬øEn qu√© te ayudo?" }
  },
  {
    "id": "saludo_noches",
    "priority": 101,
    "type": "static",
    "patterns_any": ["buenas noches"],
    "response": { "text": "¬°Buenas noches! Soy **Rayna**. ¬øTe echo una mano con algo?" }
  },
  {
    "id": "saludo",
    "priority": 100,
    "type": "static",
    "patterns_any": [
      "hola",
      "buenas",
      "buenos dias",
      "buenas tardes",
      "buenas noches",
      "hola rayna",
      "que tal"
    ],
    "response": {
      "text": "¬°Hola! Soy **Rayna**, tu transportista virtual. ¬øEn qu√© te ayudo?"
    }
  },
  {
    "id": "quien_eres",
    "priority": 95,
    "type": "static",
    "patterns_any": [
      "quien eres",
      "qui√©n eres",
      "quien es rayna",
      "qui√©n es rayna",
      "que eres"
    ],
    "response": {
      "text": "Soy Rayna: **R**utas ‚Ä¢ **A.Y.** Inteligencia Artificial ‚Ä¢ **N**avegar ‚Ä¢ **A**sistente. Formal, cercana y r√°pida üòâ."
    }
  },
  {
    "id": "help",
    "priority": 90,
    "type": "static",
    "patterns_any": [
      "que puedes hacer",
      "qu√© puedes hacer",
      "ayuda",
      "help",
      "que piedes hacer",
      "que puedes acer"
    ],
    "response": {
      "text": "Puedo abrir **c√°maras** por nombre (ej.: ¬´Abre TCB¬ª), mostrar el **anuncio** vigente o ayudarte con **dep√≥sito/GPS**. Admin: a√±adir c√°mara. Dispecer/Admin: publicar anuncio."
    }
  },
  {
    "id": "set_anuncio",
    "priority": 85,
    "type": "dialog",
    "patterns_any": [
      "quiero poner un anuncio",
      "poner anuncio",
      "publicar anuncio"
    ],
    "roles_allowed": ["admin", "dispecer"],
    "dialog": {
      "await_key": "anuncio_text",
      "ask_text": "Claro, ¬øqu√© anuncio quieres?",
      "save_action": "save_announcement",
      "save_ok": "¬°Anuncio actualizado con √©xito!",
      "save_err": "Ha ocurrido un error al guardar el anuncio."
    }
  },
  {
    "id": "admin_add_camara",
    "priority": 86,
    "type": "dialog",
    "patterns_any": [
      "quiero a√±adir una camara",
      "quiero anadir una camara",
      "a√±adir camara",
      "agregar camara",
      "crear camara",
      "nueva camara",
      "adaugƒÉ camerƒÉ",
      "adaugƒÉ camera",
      "adauga camera",
      "adaug camera",
      "adƒÉuga camerƒÉ",
      "adƒÉuga camera",
      "adauga camerƒÉ",
      "adaugare camerƒÉ",
      "adaugare camera",
      "vreau sƒÉ adaug o camerƒÉ",
      "vreau sa adaug o camera",
      "vreau sƒÉ adƒÉuga o camerƒÉ",
      "vreau sa adauga o camera",
      "add camera"
    ],
    "roles_allowed": ["admin"],
    "dialog": {
      "form": "add_camera_inline",
      "save_action": "insert_camera",
      "save_ok": "¬°Listo! C√°mara **{{camera.name}}** a√±adida.",
      "save_err": "No pude a√±adir la c√°mara. Revisa el URL."
    }
  },
  {
    "id": "ver_anuncio",
    "priority": 70,
    "type": "action",
    "patterns_any": [
      "que anuncio hay",
      "qu√© anuncio hay",
      "ver anuncio",
      "anuncios",
      "ce anun»õ avem",
      "ce anunt avem"
    ],
    "action": "show_announcement",
    "response": {
      "text": "Este es el anuncio vigente:",
      "objects": [
        {
          "type": "announcement_box",
          "content": "{{announcement.content}}"
        }
      ]
    }
  },
  {
  "id": "gps_info_de",
  "priority": 87,
  "type": "action",
  "patterns_any": [
    "que hay en", "qu√© hay en",
    "que hay de", "qu√© hay de",
    "que pasa en", "qu√© pasa en",
    "info", "informacion", "informaci√≥n",
    "detalii",
    "que me puedes decir de", "qu√© me puedes decir de",
    "que sabes de", "qu√© sabes de",
    "que tienes de", "qu√© tienes de",
    "donde esta", "d√≥nde est√°"
  ],
  "stopwords": ["de","la","el","en","del","despre","pe","al"],
  "slots": { "placeName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 } },
  "action": "gps_place_info",
  "response": { "text": "Esto es lo que tengo de **{{place.name}}**:", "objects": [{ "type": "info" }] },
  "not_found": { "text": "No he encontrado informaci√≥n de \"{{query}}\"." }
}
    ],
    "negative_any": [
      "a√±adir",
      "anadir",
      "agregar",
      "crear",
      "nueva",
      "nuevo",
      "adauga",
      "adaugƒÉ",
      "adaug",
      "adƒÉuga",
      "adaugare",
      "adaugaÃÜ",
      "add",
      "poner",
      "publicar",
      "alta",
      "crear nueva",
      "nueva camara"
    ],
    "stopwords": [
      "entonces",
      "por",
      "favor",
      "la",
      "el",
      "una",
      "un",
      "pf",
      "pls",
      "ok",
      "vale"
    ],
    "slots": {
      "cameraName": {
        "from": "tail_after_patterns_or_single_token",
        "min_len": 2
      }
    },
    "action": "open_camera",
    "response": {
      "text": "Aqu√≠ tienes **{{camera.name}}**. Pulsa el bot√≥n para abrirla.",
      "objects": [
        {
          "type": "card",
          "title": "{{camera.name}}",
          "actions": [
            {
              "type": "open",
              "label": "Abrir c√°mara",
              "route": "{{camera.url}}",
              "newTab": true
            }
          ]
        }
      ]
    },
    "not_found": {
      "text": "No he encontrado la c√°mara \"{{query}}\"."
    }
  },
  {
    "id": "gps_navegar_a",
    "priority": 88,
    "type": "action",
    "patterns_any": [
      "quiero llegar a",
      "llevar a",
      "ir a",
      "navegar a",
      "como llego a",
      "c√≥mo llego a",
      "vreau sa ajung la",
      "vreau sƒÉ ajung la",
      "vreau sa merg la",
      "vreau sƒÉ merg la"
    ],
    "stopwords": ["a", "la", "al", "el", "cƒÉtre", "pe"],
    "slots": {
      "placeName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 }
    },
    "action": "gps_route_preview",
    "response": {
      "text": "Claro, aqu√≠ tienes la ruta a **{{place.name}}**. Pulsa el mapa o el bot√≥n para abrirla en Google Maps.",
      "objects": [
        {
          "type": "mini_map",
          "title": "{{place.name}}",
          "geojson": "{{route.geojson}}",
          "maps_link": "{{maps_link}}"
        },
        {
          "type": "card",
          "title": "{{place.name}}",
          "actions": [
            { "type": "open", "label": "Abrir en Google Maps", "route": "{{maps_link}}", "newTab": true }
          ]
        }
      ]
    },
    "not_found": { "text": "No he encontrado la ubicaci√≥n \"{{query}}\"." }
  },
  {
    "id": "gps_info_de",
    "priority": 87,
    "type": "action",
    "patterns_any": ["que me puedes decir de","qu√© me puedes decir de","que sabes de","qu√© sabes de",
  "info","informacion","informaci√≥n","detalii","cliente","client", 
      "que me puedes decir de",
      "qu√© me puedes decir de",
      "que sabes de",
      "qu√© sabes de",
      "que tienes de",
      "qu√© tienes de",
      "info de",
      "informacion de",
      "informaci√≥n de",
      "info",
      "donde esta",
      "d√≥nde est√°",
      "ce poti spune despre",
      "ce po»õi spune despre"
    ],
    "stopwords": ["de", "la", "el", "despre", "pe"],
    "slots": {
      "placeName": { "from": "tail_after_patterns_or_single_token", "min_len": 2 }
    },
    "action": "gps_place_info",
    "response": {
      "text": "Esto es lo que tengo de **{{place.name}}**:",
      "objects": [
        {
          "type": "info",
          "fields": [
            { "label": "Direcci√≥n", "value": "{{place.direccion}}" },
            { "label": "Detalles", "value": "{{place.detalles}}" },
            { "label": "Tiempo de espera", "value": "{{place.tiempo_espera}}" }
          ]
        },
        {
          "type": "card",
          "title": "Acciones",
          "actions": [
            { "type": "open", "label": "Abrir en Google Maps", "route": "{{maps_link}}", "newTab": true },
            { "type": "open", "label": "Ver en GPS", "route": "/gps", "newTab": false },
            { "type": "open", "label": "Ver c√°mara", "route": "{{camera_url}}", "newTab": true, "if": "camera_url" }
          ]
        }
      ]
    },
    "not_found": { "text": "No he encontrado informaci√≥n de \"{{query}}\"." }
  },
  {
    "id": "gps_list_terminale",
    "priority": 62,
    "type": "action",
    "patterns_any": ["que terminales hay", "qu√© terminales hay", "lista terminales", "ver terminales"],
    "action": "gps_list",
    "meta": { "table": "gps_terminale", "label": "Terminales" },
    "response": {
      "text": "Estas son las terminales disponibles:",
      "objects": [{ "type": "list", "items": "{{items}}" }]
    }
  },
  {
    "id": "gps_list_parkings",
    "priority": 61,
    "type": "action",
    "patterns_any": ["que parkings hay", "que parkings hay", "qu√© parkings hay", "lista parkings", "ver parkings",
  "que parking hay", "qu√© parking hay", "qu√© parkings hay", "lista parkings", "ver parkings"],
    "action": "gps_list",
    "meta": { "table": "gps_parkings", "label": "Parkings" },
    "response": {
      "text": "Estos son los parkings disponibles:",
      "objects": [{ "type": "list", "items": "{{items}}" }]
    }
  },
  {
    "id": "gps_list_servicios",
    "priority": 60,
    "type": "action",
    "patterns_any": ["que servicios hay", "qu√© servicios hay", "lista servicios", "ver servicios"],
    "action": "gps_list",
    "meta": { "table": "gps_servicios", "label": "Servicios" },
    "response": {
      "text": "Estos son los servicios disponibles:",
      "objects": [{ "type": "list", "items": "{{items}}" }]
    }
  },
  {
    "id": "gps_atajos_clientes",
    "priority": 59,
    "type": "static",
    "patterns_any": ["que clientes hay", "lista clientes", "ver clientes"],
    "response": {
      "text": "Hay muchos clientes. Abre la secci√≥n para verlos.",
      "objects": [
        {
          "type": "card",
          "title": "Clientes",
          "actions": [{ "type": "open", "label": "Ver clientes en GPS", "route": "/gps", "newTab": false }]
        }
      ]
    }
  },
  {
    "id": "fallback",
    "priority": 0,
    "type": "static",
    "response": {
      "text": "Te escucho. Puedo abrir c√°maras por nombre, mostrar el anuncio o ayudarte con el dep√≥sito y el GPS."
    }
  }
]