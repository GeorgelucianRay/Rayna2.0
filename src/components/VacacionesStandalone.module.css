:root {
  --bg: #090d17;
  --panel: rgba(18, 24, 44, 0.7);
  --panel-border: rgba(119, 167, 255, 0.25);
  --text: #e9f0ff;
  --muted: #9fb3d9;
  --primary: #00e5ff;
  --accent: #7c4dff;
  --ok: #50fa7b;
  --warn: #ffd166;
  --grey: #8a94a6;
  --shadow: 0 14px 40px rgba(0,0,0,.45), inset 0 0 0 1px var(--panel-border);
  --radius: 14px;
  --grad: radial-gradient(1200px 600px at -10% -10%, rgba(124,77,255,0.22), transparent 60%),
          radial-gradient(900px 500px at 120% 10%, rgba(0,229,255,0.18), transparent 60%);
}

* { box-sizing: border-box; }
.wrap {
  min-height: 100%;
  padding: 22px clamp(16px, 4vw, 40px);
  background: var(--bg);
  background-image: var(--grad);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial;
}

/* Header */
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.hLeft { display: flex; flex-direction: column; gap: 4px; }
.title {
  margin: 0; font-size: clamp(20px, 3vw, 28px); font-weight: 800;
  background: linear-gradient(90deg, #cfe0ff, #ffffff); -webkit-background-clip: text; color: transparent;
}
.sub { color: var(--muted); font-size: 13px; }
.hRight { display: flex; align-items: center; gap: 10px; }
.pill {
  border-radius: 999px; padding: 6px 10px;
  background: linear-gradient(90deg, rgba(0,229,255,0.16), rgba(124,77,255,0.16));
  border: 1px solid var(--panel-border); color: var(--primary);
}
.btnGhost {
  color: var(--primary); background: transparent; border: 1px solid rgba(0,229,255,0.4);
  padding: 8px 12px; border-radius: 12px; cursor: pointer;
}
.btnGhost:hover { box-shadow: 0 0 0 3px rgba(0,229,255,0.12); }

/* Stats */
.statsRow {
  display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 12px; margin-bottom: 12px;
}
.stat {
  backdrop-filter: blur(10px) saturate(120%); background: var(--panel);
  border: 1px solid var(--panel-border); border-radius: var(--radius); box-shadow: var(--shadow);
  padding: 10px 12px; display: flex; align-items: baseline; justify-content: space-between;
}
.stat span { color: var(--muted); font-size: 12px; }
.stat strong { font-size: 18px; }

/* Grid */
.grid { display: grid; grid-template-columns: 1fr 1.4fr; gap: 12px; margin-bottom: 12px; }
.card {
  backdrop-filter: blur(10px) saturate(120%); background: var(--panel);
  border: 1px solid var(--panel-border); border-radius: var(--radius); box-shadow: var(--shadow);
  padding: 14px; position: relative; overflow: hidden;
}
.cardTitle { margin: 0 0 10px; color: #d8e6ff; }

/* Donut */
.donutBox { display: flex; align-items: center; gap: 16px; }
.donut { width: 140px; height: 140px; }
.donutTrack { fill: none; stroke: rgba(160, 190, 255, 0.18); stroke-width: 12; }
.donutValue { fill: none; stroke: url(#grad) var(--primary); stroke-width: 12; stroke-linecap: round; }
.donutCenter text { fill: var(--text); }
.donutBig { font-size: 22px; font-weight: 800; }
.donutSmall { font-size: 11px; opacity: .85; }
.donutSmall2 { font-size: 11px; opacity: .7; }

.legend { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; }
.legend li { display: flex; align-items: center; gap: 8px; color: var(--muted); }
.dot { width: 10px; height: 10px; border-radius: 50%; box-shadow: 0 0 8px currentColor; }
.per { color: #00e5ff; background: currentColor; }
.emp { color: #7c4dff; background: currentColor; }

/* Calendar */
.calHeader { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.monthTitle { margin: 0; font-size: 16px; color: #dbe6ff; }
.navBtn {
  border: 1px solid rgba(149,181,255,0.3); background: rgba(0,229,255,0.08);
  color: var(--text); padding: 6px 10px; border-radius: 10px; cursor: pointer;
}
.navBtn:hover { box-shadow: 0 0 0 3px rgba(0,229,255,0.12); }
.rangeBar {
  margin: 10px 0; padding: 6px 10px; border-radius: 10px;
  background: rgba(0,229,255,0.08); border: 1px solid rgba(0,229,255,0.25); color: #d8f6ff;
}

.weekRow { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; color: var(--muted); font-size: 12px; }
.daysGrid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.dayBlank { height: 78px; }
.dayCell {
  position: relative; height: 78px; border-radius: 12px; padding: 8px;
  background: rgba(0,0,0,0.18); border: 1px solid rgba(149,181,255,0.14); overflow: hidden;
  transition: transform .06s ease, box-shadow .2s ease;
}
.dayCell:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(0,229,255,0.25); }
.sel { box-shadow: 0 0 0 2px rgba(0,229,255,0.35) inset; }
.dayNum { font-size: 12px; color: var(--muted); }
.dayDots { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px; }
.more { font-size: 11px; color: var(--muted); }

/* Banner avertizare */
.banner {
  margin-top: 10px; padding: 8px 10px; border-radius: 10px;
  background: rgba(255,209,102,0.12); color: #ffe8a3; border: 1px solid rgba(255,209,102,0.35);
}

/* Form solicitare */
.requestRow {
  display: grid; grid-template-columns: 1fr; gap: 10px; margin: 12px 0;
  backdrop-filter: blur(10px) saturate(120%); background: var(--panel);
  border: 1px solid var(--panel-border); border-radius: var(--radius); box-shadow: var(--shadow);
  padding: 12px 14px;
}
.tabs { display: inline-flex; background: rgba(0,0,0,0.2); border: 1px solid rgba(149,181,255,0.25); border-radius: 10px; }
.tab {
  padding: 8px 12px; background: transparent; border: none; color: var(--muted);
  cursor: pointer; border-radius: 8px; font-weight: 600;
}
.tabOn { color: #001018; background: linear-gradient(90deg, #00e5ff, #7c4dff); }
.reqInputs { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px; }
.reqInputs label { display: flex; flex-direction: column; gap: 6px; color: var(--muted); font-size: 12px; }
.reqInputs input[type="date"], .note input {
  width: 100%; padding: 10px 12px; border-radius: 10px;
  border: 1px solid rgba(149,181,255,0.25); color: var(--text); background: rgba(16,24,45,0.65); outline: none;
}
.btnPrimary {
  justify-self: start;
  color: #001018; background: linear-gradient(90deg, #00e5ff, #7c4dff);
  border: 1px solid transparent; border-radius: 12px; padding: 10px 14px; font-weight: 700; cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,229,255,0.22);
}
.btnPrimary:hover { transform: translateY(-1px); }

/* Activitate */
.activity { list-style: none; padding: 0; margin: 8px 0 0; display: grid; gap: 8px; }
.activityItem {
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(0,0,0,0.18); padding: 8px 10px; border-radius: 10px; border: 1px solid rgba(149,181,255,0.14);
}
.activityLeft { display: flex; align-items: center; gap: 8px; }
.stateDot {
  display: grid; place-items: center;
  width: 18px; height: 18px; border-radius: 50%;
  border: 1px solid rgba(149,181,255,0.35); color: var(--ok);
}
.ok { color: var(--ok); }
.pending { color: var(--warn); }
.grey { color: var(--grey); }
.kind { display: block; font-weight: 700; }
.range { display: block; color: var(--muted); font-size: 12px; }
.badge {
  padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 700;
  border: 1px solid rgba(149,181,255,0.25); color: var(--text);
}
.badgeOk { background: rgba(80,250,123,0.12); border-color: rgba(80,250,123,0.35); }
.badgePend { background: rgba(255,209,102,0.12); border-color: rgba(255,209,102,0.35); }
.badgeGrey { background: rgba(138,148,166,0.12); border-color: rgba(138,148,166,0.35); }

/* Alert */
.alert {
  margin: 10px 0; padding: 10px 12px; border-radius: 12px;
  background: rgba(255,110,110,0.12); color: #ffd6d6; border: 1px solid rgba(255,110,110,0.35);
}
/* --- noi: buton Volver, toggle mod, bară selecție, cursor multi --- */

.btnBack {
  align-self: flex-start;
  margin-bottom: 6px;
  color: var(--primary);
  background: transparent;
  border: 1px solid rgba(0,229,255,0.4);
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
}
.btnBack:hover { box-shadow: 0 0 0 3px rgba(0,229,255,0.12); }

.toggleWrap { display: flex; align-items: center; gap: 10px; margin-right: 8px; }
.toggleLabel { color: var(--muted); font-size: 12px; }
.toggleGrp { display: inline-flex; padding: 2px; border: 1px solid rgba(149,181,255,0.25); border-radius: 10px; background: rgba(0,0,0,0.2); }
.toggleBtn {
  padding: 6px 10px; background: transparent; border: none; color: var(--muted);
  border-radius: 8px; font-weight: 600; cursor: pointer;
}
.toggleOn { color: #001018; background: linear-gradient(90deg, #00e5ff, #7c4dff); }

.selBar {
  display: flex; align-items: center; justify-content: space-between;
  margin: 8px 0; padding: 6px 10px; border-radius: 10px;
  background: rgba(0,229,255,0.06); border: 1px solid rgba(0,229,255,0.22);
}
.selActions { display: flex; align-items: center; gap: 8px; }
.btnTag {
  padding: 6px 10px; font-size: 12px; font-weight: 600;
  color: var(--primary);
  background: rgba(0,229,255,0.1);
  border: 1px solid rgba(0,229,255,0.3);
  border-radius: 10px; cursor: pointer;
}
.btnTag:hover { box-shadow: 0 0 0 3px rgba(0,229,255,0.12); }

.multiCursor { cursor: pointer; }

.reqInputsSingle { display: grid; grid-template-columns: 1fr; gap: 10px; }
.reqActions { display: flex; align-items: center; gap: 10px; }

/* Responsive */
@media (max-width: 980px) {
  .grid { grid-template-columns: 1fr; }
}
@media (max-width: 720px) {
  .statsRow { grid-template-columns: 1fr; }
  .reqInputs { grid-template-columns: 1fr; }
  .dayBlank, .dayCell { height: 64px; }
}
/* --- FIX: header responsiv, pastila an vizibilă --- */

/* Bara din dreapta poate împacheta pe 2 rânduri fără overflow */
.header { flex-wrap: wrap; row-gap: 8px; }

/* Grupul din dreapta nu forțează lățimea */
.hRight {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;          /* important */
  justify-content: flex-end;
  max-width: 100%;
}

/* Pastila anului are lățime minimă și nu se strânge la 0 */
.pill {
  flex: 0 0 auto;           /* nu se micșorează */
  min-width: 60px;          /* suficient pentru „2025” */
  text-align: center;
  padding: 6px 12px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(0,229,255,0.16), rgba(124,77,255,0.16));
  border: 1px solid rgba(119,167,255,.25);
  color: #00e5ff;
  /* scoate orice limită veche care o tăia: */
  max-width: none;
}

/* Toggle/Buton „Hoy” nu împing pastila în afara ecranului */
.toggleGrp, .btnGhost, .navBtn, .tab, .toggleBtn { max-width: 100%; }

/* Pe ecrane înguste reordonăm ca să încapă frumos */
@media (max-width: 480px) {
  .header { align-items: flex-start; }

  .hRight {
    width: 100%;
    justify-content: space-between;  /* Hoy | [toggle] | 2025 pe rând propriu */
  }

  .toggleWrap { order: 2; flex: 1 1 auto; min-width: 0; } /* permite micșorare */
  .btnGhost   { order: 1; }
  .pill       { order: 3; margin-left: auto; }            /* pastila rămâne vizibilă */
}

/* Grid pentru tabletă/desktop – două coloane solide */
@media (min-width: 768px) {
  .grid { grid-template-columns: 1fr 1.4fr; }
}

/* Pe mobil, o singură coloană (evită overflow) */
@media (max-width: 767px) {
  .grid { grid-template-columns: 1fr; }
}

/* Fix general overflow pe orizontală în carduri/dropdown */
.card, .dropdown { max-width: 100%; }