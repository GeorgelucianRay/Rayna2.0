/* ================== HEADER ================== */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  color: #fff;
}
.header h1 {
  font-size: 2.25rem;
  font-weight: 700;
}

.archiveButton {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  background: rgba(255,255,255,.1);
  border: 1px solid rgba(255,255,255,.3);
  color: #fff;
  padding: .6rem 1.25rem;
  border-radius: .5rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color .2s, transform .15s ease, box-shadow .15s ease;
}
.archiveButton:hover { background: rgba(255,255,255,.2); transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.2); }
.archiveButton:disabled { opacity: .5; cursor: not-allowed; }

/* ================== LAYOUT ================== */
.mainContainer {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  align-items: start;
}
@media (min-width: 1024px) {
  .mainContainer { grid-template-columns: repeat(2, 1fr); }
}
.column {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  width: 100%;
}

/* ================== CARDS & FORMS ================== */
.card {
  background: rgba(17,24,39,.6);
  backdrop-filter: blur(10px);
  padding: 1.75rem;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  width: 100%;
}
.card p { color: #fff; text-align: center; margin: 0; }
.card h3 {
  font-size: 1.25rem; color: #fff; font-weight: 600;
  margin: 0 0 1.5rem 0;
  border-bottom: 1px solid rgba(255,255,255,.2);
  padding-bottom: .75rem;
}

.inputGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}
@media (min-width: 640px) {
  .inputGrid { grid-template-columns: 1fr 1fr; gap: 1.25rem; }
}

.inputGroup { display: flex; flex-direction: column; gap: .25rem; }
.inputGroup label { font-weight: 500; font-size: .875rem; color: #d1d5db; }
.inputGroup input {
  padding: .75rem; border-radius: .5rem;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.1);
  color: #fff; font-size: 1rem; width: 100%; box-sizing: border-box;
}
.inputGroup input:focus { outline: none; border-color: #fb923c; }

.saveButton {
  width: 100%; margin-top: 1.5rem; padding: .75rem 1.5rem;
  border-radius: .5rem; border: none;
  background-image: linear-gradient(to right, #2563eb, #3b82f6);
  color: #fff; font-weight: 700; cursor: pointer; transition: transform .2s, box-shadow .2s;
}
.saveButton:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(59,130,246,.4); }

/* (deprecated) — nu se mai folosește pentru butoanele mari */
.calculateButton {
  width: 100%; padding: 1rem; border-radius: .75rem; border: none;
  background-image: linear-gradient(to right, #16a34a, #22c55e);
  color: #fff; font-weight: 700; font-size: 1.25rem; cursor: pointer;
  transition: transform .2s, box-shadow .2s;
}
.calculateButton:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(34,197,94,.4); }

/* ================== TOOLBAR EMOJI (FORȚAT MARE) ================== */
.toolbar {
  display: flex;
  gap: clamp(12px, 2vw, 22px) !important;
  align-items: center;
  margin-bottom: clamp(10px, 1.4vw, 16px) !important;
}

/* dimensiunea butonului – forțată cu !important ca să bată orice stil moștenit */
.iconBtn {
  --btn-size: clamp(72px, 9vw, 104px); /* MIN 72px pe mobil, până la 104px pe desktop */
  width: var(--btn-size) !important;
  height: var(--btn-size) !important;

  border: 0 !important;
  border-radius: calc(var(--btn-size) * 0.28) !important;
  background: rgba(255,255,255,0.98) !important;
  box-shadow: 0 4px 14px rgba(0,0,0,0.18) !important;
  cursor: pointer !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  padding: 0 !important;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease !important;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.iconBtn:hover { transform: translateY(-1px) !important; box-shadow: 0 10px 28px rgba(0,0,0,0.22) !important; }
.iconBtn:active { transform: scale(.96) !important; }
.iconBtn:focus-visible { outline: 3px solid #22c55e !important; outline-offset: 3px !important; }

/* stare toggled */
.iconBtn[aria-pressed="true"] {
  outline: 3px solid #30b17333 !important;
  background: #f3fffb !important;
  box-shadow: 0 8px 18px rgba(48,177,115,0.25) !important;
}

/* emoji separat ca să-l putem face și mai mare decât font-size-ul normal */
.emoji {
  font-size: calc(var(--btn-size) * 0.62) !important; /* ~62% din buton, arată PLIN pe iOS/Android */
  line-height: 1 !important;
  display: block !important;
  transform: translateY(2%) !important; /* mic reglaj optic pt. emoji */
}

/* extra mare pe monitoare late */
@media (min-width: 1440px) {
  .iconBtn { --btn-size: 112px; }          /* 112px pe 1440+ */
  .emoji { font-size: calc(var(--btn-size) * 0.60) !important; }
}

/* hint sub toolbar */
.hint {
  font-size: clamp(12px, 1.2vw, 15px) !important;
  color: #e5e7eb !important;
  opacity: 0.95 !important;
  margin-bottom: clamp(8px, 1.2vw, 12px) !important;
}

/* ================== CALENDAR ================== */
.calendarHeader {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;
}
.calendarHeader button {
  background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; padding: .5rem;
}
.calendarHeader button:focus-visible { outline: 2px solid #fb923c; border-radius: .5rem; }
.calendarHeader h3 { margin: 0; border-bottom: none; padding-bottom: 0; }

.calendarHint {
  text-align: center; color: #9ca3af; font-size: .875rem;
  margin-top: -.5rem; margin-bottom: 1rem; font-style: italic;
}
.calendarWeekdays {
  display: grid; grid-template-columns: repeat(7, 1fr);
  text-align: center; color: #9ca3af; font-weight: 600;
  margin-bottom: .5rem; font-size: .75rem;
}
.calendarGrid {
  display: grid; grid-template-columns: repeat(7, 1fr); gap: .5rem;
}
.calendarDay {
  background: rgba(255,255,255,.05);
  border: 1px solid transparent; border-radius: .5rem;
  aspect-ratio: 1 / 1; padding: .5rem;
  display: flex; justify-content: flex-start; align-items: flex-end;
  cursor: pointer; transition: background .2s, border-color .2s, box-shadow .2s;
}
.calendarDay:hover { background: rgba(255,255,255,.1); border-color: rgba(255,255,255,.3); }
.calendarDay:focus-visible { outline: 2px solid #3b82f6; }
.dayNumber { font-size: .875rem; font-weight: 600; color: #e5e7eb; }
.hasData { border-color: #22c55e; box-shadow: 0 0 10px rgba(34,197,94,.3); }
.placeholderDay { background: transparent; border: none; cursor: default; }

/* ================== DISPECER SELECT ================== */
.dispatcherSelector {
  background: rgba(17,24,39,.6);
  backdrop-filter: blur(10px);
  padding: 1.25rem 1.75rem;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  margin-bottom: 2rem;
  display: flex; align-items: center; gap: 1rem;
}
.dispatcherSelector label {
  font-size: 1.1rem; font-weight: 600; color: #fff; flex-shrink: 0;
}
.dispatcherSelector select {
  width: 100%; padding: .75rem; border-radius: .5rem;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.1); color: #fff; font-size: 1rem;
}
.dispatcherSelector select:focus { outline: none; border-color: #fb923c; }
.dispatcherSelector select option { background: #1f2937; color: #d1d5db; }

/* ================== MODAL (VERSIUNE ACTUALIZATĂ) ================== */
.modalOverlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.7);
  backdrop-filter: blur(5px);
  z-index: 3000;
  display: flex; justify-content: center; align-items: center;
  padding: 1rem;
}

.modal {
  background: #111827;
  color: #fff;
  width: 100%;
  max-width: 550px;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  box-shadow: 0 10px 30px rgba(0,0,0,.2);
  display: flex;
  flex-direction: column;
  max-height: 90vh;
}

.modalHeader {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1.5rem;
  border-bottom: 1px solid rgba(255,255,255,.2);
  flex-shrink: 0;
}
.modalTitle { margin: 0; font-size: 1.25rem; font-weight: 800; }

.closeIcon {
  appearance: none; border: none; background: transparent; color: #9ca3af;
  cursor: pointer; padding: 0; line-height: 1;
}
.closeIcon:hover { color: #fff; }
.closeIcon:focus-visible { outline: 2px solid #fb923c; border-radius: .375rem; }

.modalBody { 
  display: flex; 
  flex-direction: column; 
  gap: 1.5rem; 
  padding: 1.5rem;
  overflow-y: auto;
}

.modalFooter {
  padding: 1rem 1.5rem;
  border-top: 1px solid rgba(255,255,255,.2);
  flex-shrink: 0;
}

.actionMini {
  padding: .65rem 1rem; border-radius: .5rem; border: none;
  background: linear-gradient(90deg, #2563eb, #3b82f6);
  color: #fff; font-weight: 800; cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease;
  width: 100%;
}
.actionMini:hover { transform: translateY(-1px); box-shadow: 0 8px 18px rgba(37,99,235,.35); }
.actionMini:focus-visible { outline: 2px solid #3b82f6; }

/* ================== MODAL - SECȚIUNE CURSE (NOU) ================== */
.curseList {
  display: flex; flex-direction: column; gap: 1rem;
  margin-top: 1rem;
}
.cursaItem {
  display: flex; align-items: flex-end; gap: .5rem;
  background-color: rgba(255, 255, 255, 0.05);
  padding: 1rem;
  border-radius: .75rem;
}
.cursaInputs {
  flex-grow: 1;
  display: grid;
  grid-template-columns: 1fr 1fr 80px;
  gap: .75rem;
}
@media (max-width: 500px) {
  .cursaInputs { grid-template-columns: 1fr; }
}
.inputWithButton { display: flex; width: 100%; }
.inputWithButton input { border-radius: .5rem 0 0 .5rem !important; border-right: none !important; }
.inputWithButton button {
  padding: 0 .75rem; border: 1px solid rgba(255,255,255,.25); border-left: none;
  background: rgba(255,255,255,.15); color: #fff; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  border-radius: 0 .5rem .5rem 0; transition: background-color .2s;
}
.inputWithButton button:hover { background: rgba(255,255,255,.25); }
.inputWithButton button:disabled { cursor: not-allowed; opacity: .5; }
.kmField input { text-align: center; }
.removeCursaButton {
  background: transparent; border: none; color: #9ca3af; cursor: pointer;
  padding: .75rem .5rem; margin-bottom: 2px; transition: color .2s;
}
.removeCursaButton:hover { color: #ff5c5c; }
.addCursaButton {
  width: 100%; padding: .75rem; margin-top: 1rem;
  background-color: transparent; border: 1px dashed rgba(255,255,255,.3);
  color: #9ca3af; font-weight: 600; border-radius: .5rem;
  cursor: pointer; transition: all .2s;
}
.addCursaButton:hover {
  background-color: rgba(255,255,255,.1);
  border-color: rgba(255,255,255,.4);
  color: #fff;
}

/* ================== NUMERIC CUSTOM ================== */
.customNumberInput {
  display: flex; align-items: center; width: 100%;
  border: 1px solid rgba(255,255,255,.25);
  border-radius: .5rem;
  background: rgba(255,255,255,.1);
  padding: 2px;
}
.numericDisplay {
  width: 100%; text-align: center; font-size: 1.1rem; font-weight: 600;
  color: #fff; background: transparent; border: none; padding: .65rem 0;
  -moz-appearance: textfield;
}
.numericDisplay::-webkit-inner-spin-button,
.numericDisplay::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
.stepperButton {
  background: rgba(255,255,255,.15); border: none; color: #fff;
  font-size: 1.2rem; font-weight: 800; cursor: pointer;
  width: 40px; height: 40px; border-radius: .375rem;
  display: grid; place-items: center; transition: background .2s;
}
.stepperButton:hover { background: rgba(255,255,255,.25); }
.stepperButton:active { background: rgba(255,255,255,.35); }

/* ================== ARCHIVE ================== */
.archiveModalBody {
  overflow-y: auto; max-height: calc(80vh - 120px);
  display: flex; flex-direction: column; gap: 1rem;
}
.archiveItem {
  background: rgba(255,255,255,.05);
  padding: 1rem; border-radius: .75rem;
}
.archiveHeader {
  display: flex; justify-content: space-between; align-items: center;
  font-weight: 600; font-size: 1.05rem; margin-bottom: .75rem;
}
.archiveTotal { color: #22c55e; }

/* ================== RESULT ================== */
.resultCard { border-top: 3px solid #22c55e; }
.totalBruto { font-size: 2rem; font-weight: 800; color: #22c55e; text-align: center; margin-bottom: 1.5rem; }
.resultDetails {
  list-style: none; margin: 0; padding: 0;
  display: flex; flex-direction: column; gap: .5rem;
}
.resultDetails li {
  display: flex; justify-content: space-between;
  font-size: .9rem; color: #d1d5db;
  padding-bottom: .5rem; border-bottom: 1px solid rgba(255,255,255,.1);
}
.resultDetails li span:first-child { font-weight: 500; }

/* ================== MODAL - SEARCH & GPS SELECT (NOU) ================== */
.searchableInputWrapper { position: relative; width: 100%; }
.searchResults {
  position: absolute; top: 100%; left: 0; right: 0;
  background: #1f2937;
  border: 1px solid rgba(255,255,255,.25);
  border-top: none;
  border-radius: 0 0 .5rem .5rem;
  z-index: 4000;
  max-height: 150px;
  overflow-y: auto;
}
.searchResultItem {
  padding: .75rem;
  color: #d1d5db;
  cursor: pointer;
  font-size: .9rem;
}
.searchResultItem:hover {
  background: #3b82f6;
  color: #fff;
}
.gpsResultsList {
  display: flex; flex-direction: column; gap: .5rem;
  padding: .5rem;
  max-height: 50vh;
  overflow-y: auto;
}
.gpsResultsList p {
  text-align: center;
  color: #9ca3af;
  padding: 1rem;
}
.gpsResultItem {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: rgba(255,255,255,.05);
  border-radius: .5rem;
  cursor: pointer;
  transition: background-color .2s, transform .12s ease;
}
.gpsResultItem:hover {
  background-color: #3b82f6;
  transform: translateY(-1px);
}
.gpsResultItem span {
  font-size: .8rem;
  color: #9ca3af;
}
.gpsResultItem:hover span {
  color: #fff;
}

/* ================== SUMMARY SELECTOR (NOU) ================== */
.summarySelectorBar {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}
.summarySelector {
  flex-grow: 1;
  padding: .75rem;
  border-radius: .5rem;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 1rem;
}
.summarySelector:focus {
  outline: none;
  border-color: #fb923c;
}
.summaryButton {
  padding: .75rem 1.5rem;
  border-radius: .5rem;
  border: none;
  background-image: linear-gradient(to right, #2563eb, #3b82f6);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: transform .2s, box-shadow .2s;
}
.summaryButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(59,130,246,.35);
}
.summaryButton:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}
/* ================== RESULT CARD — PRETTY ================== */
.resultHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: 1rem;
}
.resultTitle {
  margin: 0;
  font-size: 1.15rem;
  font-weight: 700;
  color: #fff;
}
.resultBadge {
  padding: .35rem .6rem;
  font-size: .75rem;
  border-radius: .5rem;
  color: #10b981;
  background: rgba(16,185,129,.12);
  border: 1px solid rgba(16,185,129,.35);
}

.totalBig {
  font-size: 2.2rem;
  font-weight: 800;
  color: #22c55e;
  text-align: center;
  margin: .25rem 0 1.25rem 0;
}

.kpiGrid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: .75rem;
  margin-bottom: 1rem;
}
@media (min-width: 640px) { .kpiGrid { grid-template-columns: repeat(3, 1fr); } }

.kpiCard {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: .75rem;
  padding: .75rem;
  display: grid;
  gap: .25rem;
}
.kpiLabel { color: #9ca3af; font-size: .8rem; }
.kpiValue { color: #fff; font-weight: 700; font-size: 1.05rem; }

.resultDetailsPretty {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: .5rem;
}
.resultRow {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: .6rem .4rem;
  border-bottom: 1px dashed rgba(255,255,255,.12);
}
.resultRow span:first-child {
  color: #d1d5db;
}
.amount {
  font-variant-numeric: tabular-nums;
  color: #fff;
  font-weight: 600;
}
