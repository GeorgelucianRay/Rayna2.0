/* ================== HEADER ================== */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  color: #fff;
}
.header h1 {
  font-size: 2.25rem;
  font-weight: 700;
}

.archiveButton {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  background: rgba(255,255,255,.1);
  border: 1px solid rgba(255,255,255,.3);
  color: #fff;
  padding: .6rem 1.25rem;
  border-radius: .5rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color .2s;
}
.archiveButton:hover { background: rgba(255,255,255,.2); }
.archiveButton:disabled { opacity: .5; cursor: not-allowed; }

/* ================== LAYOUT ================== */
.mainContainer {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  align-items: start;
}
@media (min-width: 1024px) {
  .mainContainer { grid-template-columns: repeat(2, 1fr); }
}
.column {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  width: 100%;
}

/* ================== CARDS & FORMS ================== */
.card {
  background: rgba(17,24,39,.6);
  backdrop-filter: blur(10px);
  padding: 1.75rem;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  width: 100%;
}
.card p { color: #fff; text-align: center; margin: 0; }
.card h3 {
  font-size: 1.25rem; color: #fff; font-weight: 600;
  margin: 0 0 1.5rem 0;
  border-bottom: 1px solid rgba(255,255,255,.2);
  padding-bottom: .75rem;
}

.inputGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}
@media (min-width: 640px) {
  .inputGrid { grid-template-columns: 1fr 1fr; gap: 1.25rem; }
}

.inputGroup { display: flex; flex-direction: column; gap: .25rem; }
.inputGroup label { font-weight: 500; font-size: .875rem; color: #d1d5db; }
.inputGroup input {
  padding: .75rem; border-radius: .5rem;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.1);
  color: #fff; font-size: 1rem; width: 100%; box-sizing: border-box;
}
.inputGroup input:focus { outline: none; border-color: #fb923c; }

.saveButton {
  width: 100%; margin-top: 1.5rem; padding: .75rem 1.5rem;
  border-radius: .5rem; border: none;
  background-image: linear-gradient(to right, #2563eb, #3b82f6);
  color: #fff; font-weight: 700; cursor: pointer; transition: transform .2s, box-shadow .2s;
}
.saveButton:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(59,130,246,.4); }

.calculateButton {
  width: 100%; padding: 1rem; border-radius: .75rem; border: none;
  background-image: linear-gradient(to right, #16a34a, #22c55e);
  color: #fff; font-weight: 700; font-size: 1.25rem; cursor: pointer;
  transition: transform .2s, box-shadow .2s;
}
.calculateButton:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(34,197,94,.4); }

/* ================== CALENDAR ================== */
.calendarHeader {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;
}
.calendarHeader button {
  background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; padding: .5rem;
}
.calendarHeader h3 { margin: 0; border-bottom: none; padding-bottom: 0; }

.calendarHint {
  text-align: center; color: #9ca3af; font-size: .875rem;
  margin-top: -.5rem; margin-bottom: 1rem; font-style: italic;
}
.calendarWeekdays {
  display: grid; grid-template-columns: repeat(7, 1fr);
  text-align: center; color: #9ca3af; font-weight: 600;
  margin-bottom: .5rem; font-size: .75rem;
}
.calendarGrid {
  display: grid; grid-template-columns: repeat(7, 1fr); gap: .5rem;
}
.calendarDay {
  background: rgba(255,255,255,.05);
  border: 1px solid transparent; border-radius: .5rem;
  aspect-ratio: 1 / 1; padding: .5rem;
  display: flex; justify-content: flex-start; align-items: flex-end;
  cursor: pointer; transition: background .2s, border-color .2s, box-shadow .2s;
}
.calendarDay:hover { background: rgba(255,255,255,.1); border-color: rgba(255,255,255,.3); }
.dayNumber { font-size: .875rem; font-weight: 600; color: #e5e7eb; }
.hasData { border-color: #22c55e; box-shadow: 0 0 10px rgba(34,197,94,.3); }
.placeholderDay { background: transparent; border: none; cursor: default; }

/* ================== DISPECER SELECT ================== */
.dispatcherSelector {
  background: rgba(17,24,39,.6);
  backdrop-filter: blur(10px);
  padding: 1.25rem 1.75rem;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  margin-bottom: 2rem;
  display: flex; align-items: center; gap: 1rem;
}
.dispatcherSelector label {
  font-size: 1.1rem; font-weight: 600; color: #fff; flex-shrink: 0;
}
.dispatcherSelector select {
  width: 100%; padding: .75rem; border-radius: .5rem;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(255,255,255,.1); color: #fff; font-size: 1rem;
}
.dispatcherSelector select:focus { outline: none; border-color: #fb923c; }
.dispatcherSelector select option { background: #1f2937; color: #d1d5db; }

/* ================== MODAL (VERSIUNE ACTUALIZATĂ) ================== */
.modalOverlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.7);
  backdrop-filter: blur(5px);
  z-index: 3000;
  display: flex; justify-content: center; align-items: center;
  padding: 1rem;
}

.modal {
  background: #111827;
  color: #fff;
  width: 100%;
  max-width: 550px;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.2);
  box-shadow: 0 10px 30px rgba(0,0,0,.2);
  display: flex;
  flex-direction: column;
  max-height: 90vh; /* Limită înălțimea totală a modalului */
}

.modalHeader {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1.5rem;
  border-bottom: 1px solid rgba(255,255,255,.2);
  flex-shrink: 0;
}
.modalTitle { margin: 0; font-size: 1.25rem; font-weight: 800; }

.closeIcon {
  appearance: none; border: none; background: transparent; color: #9ca3af;
  cursor: pointer; padding: 0; line-height: 1;
}
.closeIcon:hover { color: #fff; }

.modalBody { 
  display: flex; 
  flex-direction: column; 
  gap: 1.5rem; 
  padding: 1.5rem;
  overflow-y: auto; /* Activează scroll-ul */
}

.modalFooter {
  padding: 1rem 1.5rem;
  border-top: 1px solid rgba(255,255,255,.2);
  flex-shrink: 0;
}

.actionMini {
  padding: .65rem 1rem; border-radius: .5rem; border: none;
  background: linear-gradient(90deg, #2563eb, #3b82f6);
  color: #fff; font-weight: 800; cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease;
  width: 100%;
}
.actionMini:hover { transform: translateY(-1px); box-shadow: 0 8px 18px rgba(37,99,235,.35); }

.parteDiarioSection h4 {
  font-size: 1rem; font-weight: 700; color: #fb923c;
  margin: 0 0 .75rem 0;
}
.checkboxGroupModal {
  display: flex; justify-content: space-around; gap: 1rem;
  background: rgba(255,255,255,.05); padding: .75rem; border-radius: .5rem;
}
.checkboxGroupModal label { display: flex; align-items: center; gap: .5rem; font-weight: 500; cursor: pointer; }
.checkboxGroupModal input { width: 1.15rem; height: 1.15rem; accent-color: #3b82f6; }


/* ================== MODAL - SECȚIUNE CURSE (NOU) ================== */

.curseList {
  display: flex; flex-direction: column; gap: 1rem;
  margin-top: 1rem;
}

.cursaItem {
  display: flex; align-items: flex-end; gap: .5rem;
  background-color: rgba(255, 255, 255, 0.05);
  padding: 1rem;
  border-radius: .75rem;
}

.cursaInputs {
  flex-grow: 1;
  display: grid;
  grid-template-columns: 1fr 1fr 80px; /* Layout pentru desktop */
  gap: .75rem;
}
/* Face layout-ul responsiv pe telefoane */
@media (max-width: 500px) {
  .cursaInputs {
    grid-template-columns: 1fr; /* Un singur câmp pe rând */
  }
}

.inputWithButton { display: flex; width: 100%; }
.inputWithButton input { border-radius: .5rem 0 0 .5rem !important; border-right: none !important; }
.inputWithButton button {
  padding: 0 .75rem; border: 1px solid rgba(255,255,255,.25); border-left: none;
  background: rgba(255,255,255,.15); color: #fff; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  border-radius: 0 .5rem .5rem 0; transition: background-color .2s;
}
.inputWithButton button:hover { background: rgba(255,255,255,.25); }
.inputWithButton button:disabled { cursor: not-allowed; opacity: .5; }

.kmField input { text-align: center; }

.removeCursaButton {
  background: transparent; border: none; color: #9ca3af; cursor: pointer;
  padding: .75rem .5rem; margin-bottom: 2px; transition: color .2s;
}
.removeCursaButton:hover { color: #ff5c5c; }

.addCursaButton {
  width: 100%; padding: .75rem; margin-top: 1rem;
  background-color: transparent; border: 1px dashed rgba(255,255,255,.3);
  color: #9ca3af; font-weight: 600; border-radius: .5rem;
  cursor: pointer; transition: all .2s;
}
.addCursaButton:hover {
  background-color: rgba(255,255,255,.1);
  border-color: rgba(255,255,255,.4);
  color: #fff;
}


/* ================== NUMERIC CUSTOM ================== */
.customNumberInput {
  display: flex; align-items: center; width: 100%;
  border: 1px solid rgba(255,255,255,.25);
  border-radius: .5rem;
  background: rgba(255,255,255,.1);
  padding: 2px;
}
.numericDisplay {
  width: 100%; text-align: center; font-size: 1.1rem; font-weight: 600;
  color: #fff; background: transparent; border: none; padding: .65rem 0;
  -moz-appearance: textfield;
}
.numericDisplay::-webkit-inner-spin-button,
.numericDisplay::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

.stepperButton {
  background: rgba(255,255,255,.15); border: none; color: #fff;
  font-size: 1.2rem; font-weight: 800; cursor: pointer;
  width: 40px; height: 40px; border-radius: .375rem;
  display: grid; place-items: center; transition: background .2s;
}
.stepperButton:hover { background: rgba(255,255,255,.25); }
.stepperButton:active { background: rgba(255,255,255,.35); }

/* ================== ARCHIVE ================== */
.archiveModalBody {
  overflow-y: auto; max-height: calc(80vh - 120px);
  display: flex; flex-direction: column; gap: 1rem;
}
.archiveItem {
  background: rgba(255,255,255,.05);
  padding: 1rem; border-radius: .75rem;
}
.archiveHeader {
  display: flex; justify-content: space-between; align-items: center;
  font-weight: 600; font-size: 1.05rem; margin-bottom: .75rem;
}
.archiveTotal { color: #22c55e; }

/* ================== RESULT ================== */
.resultCard { border-top: 3px solid #22c55e; }
.totalBruto { font-size: 2rem; font-weight: 800; color: #22c55e; text-align: center; margin-bottom: 1.5rem; }
.resultDetails {
  list-style: none; margin: 0; padding: 0;
  display: flex; flex-direction: column; gap: .5rem;
}
.resultDetails li {
  display: flex; justify-content: space-between;
  font-size: .9rem; color: #d1d5db;
  padding-bottom: .5rem; border-bottom: 1px solid rgba(255,255,255,.1);
}
.resultDetails li span:first-child { font-weight: 500; }
/* ================== MODAL - SEARCH & GPS SELECT (NOU) ================== */

/* Wrapper pentru câmpul de căutare + rezultate */
.searchableInputWrapper {
  position: relative;
  width: 100%;
}

/* Lista de rezultate pentru căutare */
.searchResults {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: #1f2937;
  border: 1px solid rgba(255,255,255,.25);
  border-top: none;
  border-radius: 0 0 .5rem .5rem;
  z-index: 4000; /* Peste alte elemente din modal */
  max-height: 150px;
  overflow-y: auto;
}
.searchResultItem {
  padding: .75rem;
  color: #d1d5db;
  cursor: pointer;
  font-size: .9rem;
}
.searchResultItem:hover {
  background: #3b82f6;
  color: #fff;
}

/* Lista de rezultate pentru selecția GPS */
.gpsResultsList {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  padding: .5rem;
  max-height: 50vh;
  overflow-y: auto;
}
.gpsResultsList p {
  text-align: center;
  color: #9ca3af;
  padding: 1rem;
}
.gpsResultItem {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: rgba(255,255,255,.05);
  border-radius: .5rem;
  cursor: pointer;
  transition: background-color .2s;
}
.gpsResultItem:hover {
  background-color: #3b82f6;
}
.gpsResultItem span {
  font-size: .8rem;
  color: #9ca3af;
}
.gpsResultItem:hover span {
  color: #fff;
}

/* ADAUGĂ ACEST BLOC NOU LA SFÂRȘITUL FIȘIERULUI */
.summarySelectorBar {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}
.summarySelector {
  flex-grow: 1;
  padding: .75rem;
  border-radius: .5rem;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 1rem;
}
.summarySelector:focus {
  outline: none;
  border-color: #fb923c;
}
.summaryButton {
  padding: .75rem 1.5rem;
  border-radius: .5rem;
  border: none;
  background-image: linear-gradient(to right, #2563eb, #3b82f6);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: transform .2s;
}
.summaryButton:hover {
  transform: translateY(-2px);
}
