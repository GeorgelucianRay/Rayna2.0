:global(:root){
  --wk-bg: rgba(26, 29, 35, 0.88);
  --wk-surface: rgba(42, 47, 55, 0.60);
  --wk-stroke: rgba(255,255,255,.10);
  --wk-stroke2: rgba(255,255,255,.06);

  --wk-primary: #22a8c3;
  --wk-violet: #8b5cf6;

  --wk-text: rgba(255,255,255,.92);
  --wk-soft: rgba(255,255,255,.55);
  --wk-muted: rgba(255,255,255,.35);

  --wk-r-xl: 18px;
  --wk-r-lg: 14px;
  --wk-r-md: 12px;

  --wk-shadow: 0 18px 40px rgba(0,0,0,.45);
}

:global(*::-webkit-scrollbar){ display:none; }

.overlay{
  position: fixed;
  inset: 0;
  z-index: 200;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  display:flex;
  align-items: stretch;
  justify-content: center;
  padding: 14px;
}

.shell{
  width: min(1100px, 100%);
  height: min(900px, 100%);
  background: rgba(15, 20, 20, 0.55);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 22px;
  overflow: hidden;
  display:flex;
  flex-direction: column;
  box-shadow: var(--wk-shadow);
}

/* ===== Topbar sticky ===== */
.topbar{
  position: sticky;
  top: 0;
  z-index: 5;
  background: rgba(26, 29, 35, 0.92);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--wk-stroke2);
}

.topbarInner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 16px 16px 10px;
}

.iconBtn{
  width: 42px;
  height: 42px;
  border-radius: 14px;
  border: 1px solid var(--wk-stroke);
  background: rgba(255,255,255,.05);
  color: var(--wk-text);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.iconBtn:hover{ background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.14); }
.iconBtn:active{ transform: scale(.98); }

.centerTitle{
  text-align:center;
  min-width: 0;
}

.title{
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
}

.subtitle{
  margin-top: 2px;
  font-size: 12px;
  color: rgba(255,255,255,.55);
  font-weight: 700;
}

.weekRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 0 16px 14px;
  flex-wrap: wrap;
}

.sectionKicker{
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: rgba(255,255,255,.40);
}

.weekChip{
  font-size: 10px;
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: var(--wk-violet);
  background: rgba(139,92,246,.18);
  border: 1px solid rgba(139,92,246,.28);
  padding: 6px 10px;
  border-radius: 999px;
}

.weekNav{
  display:flex;
  gap: 8px;
}

.weekNavBtn{
  height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--wk-stroke);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.80);
  font-weight: 900;
  font-size: 12px;
  cursor:pointer;
}
.weekNavBtn:disabled{
  opacity: .45;
  cursor:not-allowed;
}

/* ===== Content ===== */
.content{
  flex: 1 1 auto;
  overflow: auto;
  padding-bottom: 0;
}

.slider{
  display:flex;
  gap: 14px;
  padding: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
}

.slide{
  flex: 0 0 auto;
  width: 280px;
  scroll-snap-align: center;
}

.dayCard{
  background: rgba(42, 47, 55, 0.55);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--wk-r-xl);
  padding: 16px;
  position: relative;
  overflow: hidden;
}

.dayCardActive{
  border: 2px solid rgba(34,168,195,.70);
  box-shadow: 0 20px 45px rgba(34,168,195,.10);
}

.verifiedBadge{
  position:absolute;
  top: 12px;
  right: 12px;
  color: var(--wk-primary);
  background: rgba(34,168,195,.14);
  border: 1px solid rgba(34,168,195,.28);
  width: 32px;
  height: 32px;
  border-radius: 12px;
  display:grid;
  place-items:center;
}

.dayTop{
  display:grid;
  gap: 10px;
}

.dayName{
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(34,168,195,.95);
}

.kmRow{
  display:flex;
  align-items:baseline;
  gap: 8px;
}

.kmValue{
  font-size: 44px;
  font-weight: 950;
  letter-spacing: -0.03em;
  color: var(--wk-text);
  line-height: 1;
}

.kmUnit{
  font-size: 14px;
  font-weight: 900;
  color: rgba(255,255,255,.40);
  letter-spacing: .10em;
  text-transform: uppercase;
}

.dayMid{
  margin-top: 14px;
  display:grid;
  gap: 12px;
}

.metric{
  display:flex;
  align-items:center;
  gap: 12px;
}

.metricIcon{
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display:grid;
  place-items:center;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.08);
}

.metricLabel{
  font-size: 12px;
  color: rgba(255,255,255,.45);
  font-weight: 800;
}

.metricValue{
  margin-top: 2px;
  font-size: 14px;
  font-weight: 900;
  color: rgba(255,255,255,.90);
}

.mealsRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,.06);
}

.mealsLeft{
  display:flex;
  gap: 10px;
}

.mealDot{
  width: 18px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  display:inline-block;
}
.mealOn{
  background: rgba(34,168,195,.95);
  box-shadow: 0 0 10px rgba(34,168,195,.35);
}
.mealOff{
  background: rgba(255,255,255,.08);
  opacity: .55;
}

.mealsRight{
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(255,255,255,.35);
}

.block{
  padding: 0 16px;
  margin-top: 8px;
}

.blockTitle{
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: rgba(255,255,255,.40);
  margin-bottom: 10px;
}

.list{
  display:grid;
  gap: 10px;
}

.item{
  display:flex;
  align-items:center;
  gap: 12px;
  padding: 14px;
  border-radius: var(--wk-r-xl);
  background: rgba(42,47,55,.40);
  border: 1px solid rgba(255,255,255,.06);
}

.itemIcon{
  width: 46px;
  height: 46px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  font-size: 18px;
  flex: 0 0 auto;
}

.itemIconViolet{
  background: rgba(139,92,246,.18);
  border: 1px solid rgba(139,92,246,.28);
  color: var(--wk-violet);
}

.itemIconPrimary{
  background: rgba(34,168,195,.18);
  border: 1px solid rgba(34,168,195,.28);
  color: var(--wk-primary);
}

.itemBody{
  min-width: 0;
  flex: 1 1 auto;
}

.itemTitle{
  font-size: 13px;
  font-weight: 950;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: rgba(255,255,255,.92);
}

.itemSub{
  margin-top: 2px;
  font-size: 12px;
  font-weight: 700;
  color: rgba(255,255,255,.45);
}

.itemRight{
  flex: 0 0 auto;
}

.greenDot{
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: #0bda54;
  box-shadow: 0 0 10px rgba(11,218,84,.45);
  display:inline-block;
}

.chev{
  font-size: 26px;
  color: rgba(255,255,255,.30);
  line-height: 1;
}

/* spacer to avoid being hidden by bottom panel */
.bottomSpacer{
  height: 220px;
}

/* ===== Bottom panel ===== */
.bottomPanel{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 210;
  background: rgba(26, 29, 35, 0.82);
  border-top: 1px solid rgba(34,168,195,.30);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  padding: 14px;
}

.bottomInner{
  width: min(520px, 100%);
  margin: 0 auto;
}

.kpiGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}

.kpi{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--wk-r-lg);
  padding: 12px;
}

.kpiLabel{
  font-size: 10px;
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: rgba(255,255,255,.35);
  margin-bottom: 6px;
}

.kpiValue{
  font-size: 22px;
  font-weight: 950;
  letter-spacing: -0.02em;
  color: rgba(255,255,255,.92);
}

.kpiUnit{
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .10em;
  color: rgba(255,255,255,.45);
}

.kpiViolet{
  color: var(--wk-violet);
}

.bonusCard{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  background: rgba(34,168,195,.10);
  border: 1px solid rgba(34,168,195,.30);
  border-radius: var(--wk-r-xl);
  padding: 14px;
}

.bonusKicker{
  font-size: 10px;
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: var(--wk-primary);
}

.bonusHint{
  margin-top: 2px;
  font-size: 12px;
  font-weight: 700;
  color: rgba(255,255,255,.45);
}

.bonusAmount{
  font-size: 28px;
  font-weight: 950;
  letter-spacing: -0.03em;
  color: var(--wk-primary);
  text-align:right;
}

.confirmBtn{
  margin-top: 12px;
  width: 100%;
  height: 54px;
  border-radius: var(--wk-r-xl);
  border: 1px solid rgba(34,168,195,.40);
  background: var(--wk-primary);
  color: #0b1111;
  font-weight: 950;
  letter-spacing: .14em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 18px 40px rgba(34,168,195,.15);
}
.confirmBtn:active{ transform: scale(.99); }

.sendIcon{
  margin-left: 8px;
  font-size: 14px;
}

/* ===== Responsive ===== */
@media (min-width: 900px){
  /* On desktop, make bottom panel sticky inside the modal,
     not fixed to the whole screen */
  .bottomPanel{
    position: sticky;
    bottom: 0;
    left: auto;
    right: auto;
    padding: 14px 16px 16px;
  }
  .bottomInner{ width: min(920px, 100%); }
  .bottomSpacer{ height: 40px; }

  .slider{
    padding: 16px 20px;
  }
  .slide{ width: 320px; }
}

@media (max-width: 420px){
  .slide{ width: 265px; }
  .kmValue{ font-size: 40px; }
}
